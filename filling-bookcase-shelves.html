	<p>class Solution:
    def __init__(self):
        self.a = {}
    def minHeightShelves(self, books: List[List[int]], shelfWidth: int) -&gt; int:</p>

        r = &#8220;&#8221;.join(str(books))
        if r in self.a:
            return self.a&#174;
        total = 0
        t = []
        result = 1000000
        i = 0
        for k in books:

            if total + k<sup class="footnote" id="fnrev18b1f1897602474a8f9628e425901270-1"><a href="#fn18b1f1897602474a8f9628e425901270-1">0</a></sup> &lt;= shelfWidth:
                t.append(k<sup class="footnote" id="fnrev18b1f1897602474a8f9628e425901270-2"><a href="#fn18b1f1897602474a8f9628e425901270-2">1</a></sup>)
                total += k<sup class="footnote"><a href="#fn18b1f1897602474a8f9628e425901270-1">0</a></sup>
                result = min(result, max(t) +  self.minHeightShelves( books[i+1:], shelfWidth))
            else:
                break
            i += 1
        #print(books, result)
        self.a&#174; = 0 if result == 1000000 else result
        return self.a&#174;




        
	<p>class Solution:
    def __init__(self):
        self.cache = {}
    def minSteps(self, n: int, lastchar : str = &#8220;&#8221;, screen = &#8220;A&#8221;) -&gt; int:
        if (lastchar, screen) in self.cache:
            return self.cache[(lastchar, screen)]
        if n  len(screen) :
            return 0
        if n < len(screen):
            return 1000000
        if lastchar  &#8220;&#8221;:
            if n == 1:
                return 0
            v = 2 + self.minSteps(n, &#8220;A&#8221;, screen +  &#8220;A&#8221;)
            self.cache[(lastchar, screen)] = v
            return v
        else:
            v =  min(1 + self.minSteps(n, lastchar, screen +  lastchar), 
                2 + self.minSteps(n, screen, screen +  screen))
            self.cache[(lastchar, screen)] = v
            return v
        </p>
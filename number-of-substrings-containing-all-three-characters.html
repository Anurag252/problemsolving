	<p>class Solution:
    def numberOfSubstrings(self, s: str) -&gt; int:
        # at least one occurence 
        # one way is that we could loop twice 
        # its too slow, how can we just loop once outside
        # all substr starting at i and fulfils the condt at j 
        # then s[i:j] -&gt; end is the substr
        # we do not need to go till end and just need count if i and j
        # then len(s) &#8211; j + 1 for strings starting at i
        # so a sliding window , where we inc when till condition is satisfied and 
        # record the j 
        # then decrement the start by one and keep doing the same </p>

        left = 0
        right = 0
        a = 0
        b = 0
        c = 0
        res = []
        while(left &lt; len(s)):
            #print(left, right, res)
            if a &gt; 0 and b &gt; 0 and c &gt; 0:
                res.append(right)
                if s[left]  'a':
                    a -= 1
                if s[left]  &#8216;b&#8217;:
                    b -= 1
                if s[left]  'c':
                    c -= 1
                left += 1
            else:
                if right  len(s):
                    break
                if s[right]  'a':
                    a += 1
                if s[right]  &#8216;b&#8217;:
                    b += 1
                if s[right] == &#8216;c&#8217;:
                    c += 1
                right += 1


        if a &gt; 0 and b &gt; 0 and c &gt; 0:
                res.append(right)
        r = 0
        for k in res :
            r += (len(s) &#8211; k + 1)
        #print(res)
        return r





        
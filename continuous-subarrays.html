	<p>class Solution:
    def continuousSubarrays(self, nums: List[int]) -&gt; int:
        # Map to maintain sorted frequency map of current window
        freq = {}
        left = right = 0
        count = 0  # Total count of valid subarrays</p>

        while right &lt; len(nums):
            # Add current element to frequency map
            freq[nums[right]] = freq.get(nums[right], 0) + 1

            # While window violates the condition |nums[i] &#8211; nums[j]| â¤ 2
            # Shrink window from left
            while max(freq) &#8211; min(freq) &gt; 2:
                # Remove leftmost element from frequency map
                freq[nums[left]] -= 1
                if freq[nums[left]] == 0:
                    del freq[nums[left]]
                left += 1

            # Add count of all valid subarrays ending at right
            count += right &#8211; left + 1
            right += 1

        return count


	<p>&#8220;&#8221;&#8220;
        left = 0
        right = 0
        arr = []
        result = 0</p>



        def valid_range(n, arr):
            if len(arr)  0:
                arr.append(n)
                return True
            if len(arr)  1:
                if arr<sup class="footnote" id="fnrev2fb65d5302c24ee9bc7516b3283db644-1"><a href="#fn2fb65d5302c24ee9bc7516b3283db644-1">0</a></sup> + 2 &lt;= n or arr<sup class="footnote"><a href="#fn2fb65d5302c24ee9bc7516b3283db644-1">0</a></sup> &#8211; 2 &lt;= n:
                    arr.append(n)
                    arr.sort()
                    return True
                else:
                    return False
            if len(arr) == 2:
                return n in arr

        def not_valid(left , right ,  arr):

            while(right &gt; left):




        def add(t):
            count = 0
            for k in range(t+1):
                count += k
            return count

        while(left &lt; len(nums) and right &lt; len(nums)):
            print(left, right, arr)
            if valid_range(nums[right], arr):
                right += 1
            else:
                result += add(right &#8211; left)
                arr = []
                while(not_valid(left, right, arr)):
                    left += 1
        return result

        &#8220;&#8221;&#8220;
	<p>class Solution:
    def continuousSubarrays(self, nums: List[int]) -&gt; int:</p>

        left = 0
        right = 0
        arr = {}
        result = 0



        def valid_range(n, arr):

            if len(arr) == 0:
                arr[n] = 1
                return True
            #print(arr1, arr1<sup class="footnote" id="fnrevbe53852ff89444ce9c49f24420d32dd8-1"><a href="#fnbe53852ff89444ce9c49f24420d32dd8-1">0</a></sup>, arr1[-1])
            if max(arr.keys()) &#8211; n &lt;= 2 and  n &#8211; min(arr.keys()) &lt;= 2:
                if n in arr:
                    arr[n] += 1
                else:
                    arr[n] = 1
                return True
            return False 

        while(left &lt; len(nums) and right &lt; len(nums)):
            #print(left, right, arr)
            if valid_range(nums[right], arr):
                result += right &#8211; left + 1
                right += 1
            else:
                #result += add(right &#8211; left)
                #print(nums[left], arr.index(nums[left]))
                arr[nums[left]] -= 1
                if arr[nums[left]] == 0:
                    del arr[nums[left]]
                left += 1
        #print(arr, left, right)
        #result += add(right &#8211; left)
        return result